{% extends 'base.html.twig' %}

{% block body %}
    <twig:Header title="Accounts">
        <twig:block name="breadcrumb">
            <twig:BreadcrumbHome ></twig:BreadcrumbHome>
            <twig:BreadcrumbItem text="Settings"></twig:BreadcrumbItem>
            <twig:BreadcrumbItem text="Accounts"></twig:BreadcrumbItem>
        </twig:block>

        <div class="sm:flex">
            <div class="flex items-center ml-auto space-x-2 sm:space-x-3">
                <a
                    class="px-3 py-2 text-xs font-medium text-center inline-flex items-center text-white bg-[#112D4E] rounded-lg hover:bg-[#112D4E]/90 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
                    href="{{ path('app_settings_account_new') }}"
                >
                    <svg class="w-3 h-3 text-white me-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                        <path fill-rule="evenodd" d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm11-4.243a1 1 0 1 0-2 0V11H7.757a1 1 0 1 0 0 2H11v3.243a1 1 0 1 0 2 0V13h3.243a1 1 0 1 0 0-2H13V7.757Z" clip-rule="evenodd"/>
                    </svg>
                    Add Account
                </a>
            </div>
        </div>
    </twig:Header>

    <div class="grid grid-cols-3 gap-4 px-4 pt-6 dark:bg-gray-900">
        {% for account in accounts %}
            <twig:Card padding="p-4">
                <div class="grid grid-cols-3 gap-4">
                    <div class="col-span-1 flex justify-items-center content-center items-center">
                        {% if account.logo %}
                            <img src="{{ asset('uploads/logos/'~account.logo) }}" />
                        {% endif %}
                    </div>
                    <div class="col-span-2 text-xs space-y-1 text-slate-700">
                        <p class="font-bold">{{ account.name }}</p>
                        <p>{{ account.accountHolder }}</p>
                        <p>{{ account.iban }}</p>
                        <p>{{ account.bic }} - {{ account.bankCode }}</p>

                        <div class="flex justify-end pt-3">
                            <a href="{{ path('app_settings_account_edit', {'id': account.id}) }}">
                                <i class="fa-solid fa-square-pen text-lg hover:text-gray-900"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </twig:Card>
        {% endfor %}
    </div>
{% endblock %}
